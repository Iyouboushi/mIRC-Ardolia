[Info]
Name=The Test Dungeon
OriginalFile=test
LevelRange=1
MinimumPlayers=1
PreReq=
AdventureActions=30
ClearRoom=5
ClearReward.List=reward_test.lst
ClearReward.XP=$return_percentofvalue($xp.to.level(%party.member.name), 2))
FameRewarded=1
iLevel=1
AdventureClearMessage=The party has cleared out the test dungeon and lived to tell the tale!


[0]
Name=The Entrance
Clear=true
EnterDesc=As the party approaches The Test Dungeon they hear the buzzing of insects and the feint screams of someone dying inside.
LookDesc=The party is standing at the entrance to the Test Dungeon. There is a large stone archway leading into a hallway to the north. $iif($adventure.count.trees != 0, A lone tree stands in the middle of this area)
Trees=1
LogList=AshLog

; Exits
ExitList=North
North=1


[1]
Name=The Hallway
EnterDesc=The party continues through a large hallway.
LookDesc=The party is in a large gray hallway. The path leads north and south.


; Combat Info
Combat=true
Monsters=testingbee
Monsters.Needed=1
CombatDesc=A large bee flies at the party ready to fight
CombatEndDesc=The large bee drops to the ground dead. The path forward is clear

;Exits
ExitList=North.South
South=0
North=2

[2]
Name=The Hallway
EnterDesc=The party continues through a large hallway.
LookDesc=The party is in a large gray hallway. The path splits east and west.


; Combat Info
Combat=False


;Exits
ExitList=South.East.West
South=1
East=3
West=4


[3]
Name=Dead End
EnterDesc=The party walks down a path to a dead end.
LookDesc=The party is in small dead end room.

; Combat Info
Combat=False

ObjectList=note
Note.Read=$iif($readini($zonefile(adventure), Info, CorrectLever) = $null, writeini $zonefile(adventure) Info CorrectLever $rand(1,3)) | $display.message("If ye wish to continue onwards pull the $iif($readini($zonefile(adventure), Info, CorrectLever) = 1, Red, $iif($readini($zonefile(adventure), Info, CorrectLever) = 2, Blue, $iif($readini($zonefile(adventure), Info, CorrectLever) = 3, Green))) lever", global)

;Exits
ExitList=West
West=2

[4]
Name=Lever Room
EnterDesc=The party enters a large round room. There are three colored levers sitting in the middle of the floor.
LookDesc=The party is in a large round room.
Combat=False
CombatEndDesc=The enemy has been vanquished but the levers still remain.
Monsters=testingbee
Monsters.Needed=1

ObjectList=RedLever.BlueLever.GreenLever
RedLever.Pull=$iif($readini($zonefile(adventure), Info, CorrectLever) = $null, writeini $zonefile(adventure) Info CorrectLever $rand(1,3)) | $iif($readini($zonefile(adventure), Info, CorrectLever) = 1, $adventure.go(5), $display.message(4A large bee flies out and readies itself for battle!, global)) | $iif($readini($zonefile(adventure), Info, CorrectLever) != 1, $battle.generate)

BlueLever.Pull=$iif($readini($zonefile(adventure), Info, CorrectLever) = $null, writeini $zonefile(adventure) Info CorrectLever $rand(1,3)) | $iif($readini($zonefile(adventure), Info, CorrectLever) = 2, $adventure.go(5), $display.message(4A large bee flies out and readies itself for battle!, global)) | $iif($readini($zonefile(adventure), Info, CorrectLever) != 2, $battle.generate)

GreenLever.Pull=$iif($readini($zonefile(adventure), Info, CorrectLever) = $null, writeini $zonefile(adventure) Info CorrectLever $rand(1,3)) | $iif($readini($zonefile(adventure), Info, CorrectLever) = 3, $adventure.go(5), $display.message(4A large bee flies out and readies itself for battle!, global)) | $iif($readini($zonefile(adventure), Info, CorrectLever) != 3, $battle.generate)

ExitList=East
East=2

[5]
Name=Boss Room
EnterDesc=The party falls through a trap door and lands in the middle of a large circular room.
LookDesc=A large circular room
Combat=true
CombatDesc=A large bee floats in the middle of the room and readies for battle
CombatEndDesc=The party has vanqueshed the mighty big bee and cleared the dungeon!
Monsters=testingbee
Monsters.Needed=1


